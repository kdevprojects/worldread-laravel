<nav
  class="navbar navbar-expand-lg navbar-light border-light shadow-sm bg-light"
>
  <div class="container">
    <a
      class="navbar-brand"
      href="#"
      routerLink="/"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      >Readible</a
    >
    <button
      class="navbar-toggler"
      type="button"
      (click)="isMenuCollapsed = !isMenuCollapsed"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div [ngbCollapse]="isMenuCollapsed" class="collapse navbar-collapse">
      <a
        href="#"
        routerLink="/members/create"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        class="btn btn-outline-primary ml-auto my-2 my-sm-0"
        >Submit a story</a
      >
      <ul class="navbar-nav ml-lg-5">
        <li class="nav-item" ngbDropdown>
          <button
            class="btn btn-link dropdown-toggle"
            id="dropdownBasic1"
            ngbDropdownToggle
          >
            <span *ngIf="userService.getCurrentUser() | async as user">
              <img
                src="/_assets/{{ user?.picture }}"
                alt=""
                style="
                  height: 30px;
                  width: 30px;
                  margin-right: 0.5rem;
                  clip-path: circle(15px at center);
                "
              />
              <span> {{ user.username }}</span></span
            >
          </button>
          <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
            <button
              class="dropdown-item p-3"
              ngbDropdownItem
              routerLink="/members/overview"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              Dashboard
            </button>
            <button
              class="dropdown-item p-3"
              ngbDropdownItem
              (click)="logout()"
            >
              Log Out
            </button>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container mt-5">
  <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-pills">
    <li [ngbNavItem]="1">
      <a ngbNavLink routerLink="/members/overview" routerLinkActive="active"
        >Overview</a
      >
    </li>
    <li [ngbNavItem]="2">
      <a ngbNavLink routerLink="/members/profile" routerLinkActive="active"
        >Profile</a
      >
    </li>
  </ul>
</div>

<div [@fadeAnimation]="o.isActivated ? o.activatedRoute : ''">
  <router-outlet #o="outlet"></router-outlet>
</div>
