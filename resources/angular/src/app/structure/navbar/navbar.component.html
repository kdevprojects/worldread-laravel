<div
  class="navbar navbar-expand-lg navbar-light border-light shadow-sm bg-light"
>
  <div class="container">
    <a
      href="#"
      routerLink="/"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      class="navbar-brand"
      >Readible</a
    >
    <button
      class="navbar-toggler"
      type="button"
      (click)="isMenuCollapsed = !isMenuCollapsed"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div [ngbCollapse]="isMenuCollapsed" class="collapse navbar-collapse">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a
            class="nav-link"
            href="#"
            routerLink="/stories"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            >Stories</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="#"
            routerLink="/competitions"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            >Competitions</a
          >
        </li>
      </ul>
      <ul class="navbar-nav ml-lg-5" *ngIf="userService.isUserLoggedIn()">
        <li class="nav-item" ngbDropdown>
          <button
            class="btn btn-link dropdown-toggle"
            id="dropdownBasic1"
            ngbDropdownToggle
          >
            <span *ngIf="userService.getCurrentUser() | async as user">
              <img
                src="/_assets/{{ user?.picture }}"
                alt=""
                style="
                  height: 30px;
                  width: 30px;
                  margin-right: 0.5rem;
                  clip-path: circle(15px at center);
                "
              />
              <span> {{ user.username }}</span></span
            >
          </button>
          <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
            <button
              class="dropdown-item p-3"
              ngbDropdownItem
              routerLink="/members/overview"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              Dashboard
            </button>
            <button
              class="dropdown-item p-3"
              ngbDropdownItem
              (click)="logout()"
            >
              Log Out
            </button>
          </div>
        </li>
      </ul>
      <a
        class="btn btn-outline-primary my-2 my-sm-0"
        *ngIf="!userService.isUserLoggedIn()"
        href="#"
        routerLink="/members/login"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Sign In</a
      >
    </div>
  </div>
</div>
